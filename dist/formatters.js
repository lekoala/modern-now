function $(t,e=null,n=document){return Array.from(n.querySelectorAll(t))}function B(t){return t.charAt(0).toLocaleUpperCase()+t.slice(1)}function j(t){return["true","1"].includes(String(t).toLowerCase())}function ut(t){return typeof t=="string"||t instanceof String}function U(t,e,n=[],s=null){for(let i of n){let c=s?`${s}${B(i)}`:i;q(t,c)&&(e[i]=h(t,c))}}function V(t,e=window){return t.split(".").reduce((n,s)=>n[s],e)}function D(t){if(!t)return{};if(t.endsWith("()")){let n=V(t.replace("()",""));return n?n():{}}if(!t.includes(":"))return{default:t};let e=t;!t.startsWith("{")&&/[\w'"]\s*:\s*/.test(t)&&(e=`{${t.replace(/([^:\s{,]*)\s*:\s*('[^']*'|"[^"]*"|([\[].*?[\]])|[^,'"{\[]*)/g,(n,s,i)=>`"${s.replace(/['"]/g,"")}":${i.includes('"')?i:i.replace(/'/g,'"')}`)}}`);try{return z(JSON.parse(e))}catch(n){throw`Invalid config ${t} interpreted as ${e} with error ${n}`}}function z(t){for(let[e,n]of Object.entries(t))if(n&&typeof n=="object"){let s=n.__fn;ut(s)?t[e]=V(s):z(n)}return t}function ct(){return document.documentElement}function v(){return ct().getAttribute("lang")||"en"}function H(){return"IntersectionObserver"in window}function T(t,e,n){let s=(c,d)=>{for(let a of c)a.type==="attributes"&&n(a.target,a.oldValue)},i=new MutationObserver(s);return i.observe(t,{attributes:!0,attributeOldValue:!0,attributeFilter:e}),()=>{i.disconnect(),i=null}}function x(t,e){return t.getAttribute(e)}function A(t,e){return t.dataset[e]===""||j(t.dataset[e])}function h(t,e){let n=t.dataset[e];return n==="false"?!1:n==="true"?!0:n}function q(t,e){return t.dataset[e]!==void 0}function b(t,e){return t.dataset[e]}function P(){return{years:3600*24*365,months:3600*24*30,weeks:3600*24*7,days:3600*24,hours:3600,minutes:60,seconds:1}}function k(t=null){return t?t instanceof Date?t:Number.isInteger(t)?new Date(t):new Date(I(O(t))):new Date}function O(t){let e=t;return lt(e)&&(e=`1970-01-01 ${e}`),ft(e,"1970-01-01 00:00:00")}function I(t){let e=t.split(" ");return`${e[0]}T${e[1]}Z`}function ft(t,e){let n=t.toString();for(;n.length<e.length;)n+=e[n.length];return n}function lt(t){return S(t)&&!F(t)}function S(t){return t.toString().includes(":")}function F(t){return t.toString().includes("-")||!S(t)}function C(t){return pt(t).toISOString().split(".")[0].replace("T"," ")}function pt(t){let e=k(t);return new Date(e.getTime()-e.getTimezoneOffset()*6e4)}function Q(t){return C(t).split(" ")[0]}function Z(t){return C(t).split(" ")[1]}function _(){return Intl.RelativeTimeFormat!==void 0}var J="querySelectorAll",G=(t,e=document,n=MutationObserver,s=["*"])=>{let i=(a,m,l,f,o,r)=>{for(let u of a)(r||J in u)&&(o?l.has(u)||(l.add(u),f.delete(u),t(u,o)):f.has(u)||(f.add(u),l.delete(u),t(u,o)),r||i(u[J](m),m,l,f,o,!0))},c=new n(a=>{if(s.length){let m=s.join(","),l=new Set,f=new Set;for(let{addedNodes:o,removedNodes:r}of a)i(r,m,l,f,!1,!1),i(o,m,l,f,!0,!1)}}),{observe:d}=c;return(c.observe=a=>d.call(c,a,{subtree:!0,childList:!0}))(e),c};var tt="querySelectorAll",{document:dt,Element:K,MutationObserver:mt,Set:gt,WeakMap:xt}=self,X=t=>tt in t,{filter:Y}=[],et=t=>{let e=new xt,n=o=>{for(let r=0,{length:u}=o;r<u;r++)e.delete(o[r])},s=()=>{let o=l.takeRecords();for(let r=0,{length:u}=o;r<u;r++)d(Y.call(o[r].removedNodes,X),!1),d(Y.call(o[r].addedNodes,X),!0)},i=o=>o.matches||o.webkitMatchesSelector||o.msMatchesSelector,c=(o,r)=>{let u;if(r)for(let p,w=i(o),y=0,{length:L}=a;y<L;y++)w.call(o,p=a[y])&&(e.has(o)||e.set(o,new gt),u=e.get(o),u.has(p)||(u.add(p),t.handle(o,r,p)));else e.has(o)&&(u=e.get(o),e.delete(o),u.forEach(p=>{t.handle(o,r,p)}))},d=(o,r=!0)=>{for(let u=0,{length:p}=o;u<p;u++)c(o[u],r)},{query:a}=t,m=t.root||dt,l=G(c,m,mt,a),{attachShadow:f}=K.prototype;return f&&(K.prototype.attachShadow=function(o){let r=f.call(this,o);return l.observe(r),r}),a.length&&d(m[tt](a)),{drop:n,flush:s,observer:l,parse:d}};function g(t,e){let n=t.get(e);n&&n(e)}var N=new WeakMap,M;H()&&(M=new IntersectionObserver((t,e)=>{let n=t.filter(s=>s.isIntersecting);for(let s of n){let i=s.target;e.unobserve(i),g(N,i)}}));function R(t,e){return M?(N.set(t,e),M.observe(t),()=>(N.delete(t),M.unobserve(t))):(e(t),()=>{})}var ot={},W=[],nt=new WeakMap,{drop:te,flush:ee,observer:ne,parse:yt}=et({query:W,document,async handle(t,e,n){let s=ot[n],i=s.initialized;if(e){let c=()=>{i.has(t)||(s.callback(t),i.add(t))};A(t,"lazy")?nt.set(t,R(t,c)):c()}else if(await Promise.resolve(),!t.isConnected&&i.has(t)){let c=s.cleanup;c&&c(t),g(nt,t),i.delete(t)}}});var E=(t,e,n=null)=>{let s=new WeakSet;ot[t]={callback:e,cleanup:n,initialized:s},W.includes(t)||(W.push(t),yt($(t)))};function rt(t){if(!t.dataset.render)return;let e=D(b(t,"datetimeConfig")),n=x(t,"datetime"),s=b(t,"style"),i=b(t,"format"),c=A(t,"relative"),d=x(t,"lang")||v(),a=e;S(n)&&!a.timeStyle&&(a.timeStyle=s||"short"),F(n)&&!a.dateStyle&&(a.dateStyle=s||"short");let m=!1,l=!1;for(let r in t.dataset)["style","format","relative","render"].includes(r)||(["year","month","day"].includes(r)&&(m=!0),["hour","minute","second"].includes(r)&&(l=!0),a[r]=h(t,r));m&&a.dateStyle&&(a.dateStyle=void 0),l&&a.timeStyle&&(a.timeStyle=void 0);let f="",o=k(n);switch(i){case"iso":f=o.toISOString();break;case"utc":f=o.toUTCString();break;case"datetime":f=C(o);break;case"date":f=Q(o);break;case"time":f=Z(o);break;default:if(c){let r=P(),u=(o.getTime()-Date.now())/1e3;for(let p in r)if(r[p]<Math.abs(u)){let w=u/r[p];if(_())f=new Intl.RelativeTimeFormat(d).format(Math.round(w),p);else{let y=Math.abs(Math.floor(w)),L=y===1?p.replace(/s$/,""):p;f=`${y} ${L}`}break}}else try{let r=Date.parse(I(O(n)));f=new Intl.DateTimeFormat(d,a).format(r)}catch(r){t.dataset.error=r}break}f.length>0&&(t.innerText=f)}var it=new WeakMap;E("time[datetime]",t=>{x(t,"datetime")&&!t.innerText.trim()&&(t.dataset.render="true"),rt(t),it.set(t,T(t,["datetime"],(n,s)=>{rt(n)}))},t=>{g(it,t)});function st(t){let e=D(b(t,"numberConfig")),n=x(t,"data-number");U(t,e,["currency","unit"]);let s=x(t,"lang")||v(),i=new Intl.NumberFormat().resolvedOptions();e.currency&&(i.currency=e.currency,i.style="currency"),e.unit&&(i.unit=e.unit,i.style="unit");for(let[a,m]of Object.entries(e))i[a]=m;for(let a in t.dataset)["value","currency","unit"].includes(a)||(i[a]=h(t,a));let c=new Intl.NumberFormat(s,i),d=Number(n);t.innerText=Number.isNaN(d)?"":c.format(d)}var at=new WeakMap;E("span[data-number]",t=>{st(t),at.set(t,T(t,["data-number"],(e,n)=>{st(e)}))},t=>{g(at,t)});
/*! (c) Andrea Giammarchi - ISC */
/**
 * Modern now - formatters build
 * https://github.com/lekoala/modern-now
 * @license MIT
 */
