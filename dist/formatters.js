function z(t,e=null,n=document){return Array.from(n.querySelectorAll(t))}function F(t){return t.charAt(0).toLocaleUpperCase()+t.slice(1)}function P(t){return["true","1"].includes(String(t).toLowerCase())}function lt(t){return typeof t=="string"||t instanceof String}function U(t,e,n=[],o=null){for(let r of n){let p=o?`${o}${F(r)}`:r;Q(t,p)&&(e[r]=T(t,p))}}function Z(t,e=window){return t.split(".").reduce((n,o)=>n[o],e)}function M(t){if(!t)return{};if(t.endsWith("()")){let n=Z(t.replace("()",""));return n?n():{}}if(!t.includes(":"))return{default:t};let e=t;!t.startsWith("{")&&/[\w'"]\s*:\s*/.test(t)&&(e=`{${t.replace(/([^:\s{,]*)\s*:\s*('[^']*'|"[^"]*"|[^,'"{]*)/g,(n,o,r)=>`"${o.replace(/['"]/g,"")}":${r.includes('"')?r:r.replace(/'/g,'"')}`)}}`);try{return _(JSON.parse(e))}catch(n){throw`Invalid config ${t} interpreted as ${e} with error ${n}`}}function _(t){for(let[e,n]of Object.entries(t))if(n&&typeof n=="object"){let o=n.__fn;lt(o)?t[e]=Z(o):_(n)}return t}function pt(){return document.documentElement}function C(){return pt().getAttribute("lang")||"en"}function J(){return"IntersectionObserver"in window}function k(t,e,n){let o=(p,m)=>{for(let a of p)a.type==="attributes"&&n(a.target,a.oldValue)},r=new MutationObserver(o);return r.observe(t,{attributes:!0,attributeOldValue:!0,attributeFilter:e}),()=>{r.disconnect(),r=null}}function w(t,e){return t.getAttribute(e)}function O(t,e){return t.dataset[e]===""||P(t.dataset[e])}function T(t,e){let n=t.dataset[e];return n==="false"?!1:n==="true"?!0:n}function Q(t,e){return t.dataset[e]!==void 0}function A(t,e){return t.dataset[e]}function G(){return{years:3600*24*365,months:3600*24*30,weeks:3600*24*7,days:3600*24,hours:3600,minutes:60,seconds:1}}function N(t=null){return t?t instanceof Date?t:Number.isInteger(t)?new Date(t):new Date(B(W(t))):new Date}function W(t){let e=t;return mt(e)&&(e=`1970-01-01 ${e}`),dt(e,"1970-01-01 00:00:00")}function B(t){let e=t.split(" ");return`${e[0]}T${e[1]}Z`}function dt(t,e){let n=t.toString();for(;n.length<e.length;)n+=e[n.length];return n}function mt(t){return E(t)&&!R(t)}function E(t){return t.toString().includes(":")}function R(t){return t.toString().includes("-")||!E(t)}function I(t){return gt(t).toISOString().split(".")[0].replace("T"," ")}function gt(t){let e=N(t);return new Date(e.getTime()-e.getTimezoneOffset()*6e4)}function K(t){return I(t).split(" ")[0]}function X(t){return I(t).split(" ")[1]}function Y(){return Intl.RelativeTimeFormat!==void 0}var tt="querySelectorAll",rt="querySelectorAll",{document:ht,Element:et,MutationObserver:xt,Set:yt,WeakMap:bt}=self,nt=t=>rt in t,{filter:ot}=[],it=t=>{let e=new bt,n=(i,u)=>{let s;if(u)for(let f,c=(l=>l.matches||l.webkitMatchesSelector||l.msMatchesSelector)(i),d=0,{length:h}=r;d<h;d++)c.call(i,f=r[d])&&(e.has(i)||e.set(i,new yt),s=e.get(i),s.has(f)||(s.add(f),t.handle(i,u,f)));else e.has(i)&&(s=e.get(i),e.delete(i),s.forEach(f=>{t.handle(i,u,f)}))},o=(i,u=!0)=>{for(let s=0,{length:f}=i;s<f;s++)n(i[s],u)},{query:r}=t,p=t.root||ht,m=((i,u=document,s=MutationObserver,f=["*"])=>{let c=(l,y,x,v,D,S)=>{for(let g of l)(S||tt in g)&&(D?x.has(g)||(x.add(g),v.delete(g),i(g,D)):v.has(g)||(v.add(g),x.delete(g),i(g,D)),S||c(g[tt](y),y,x,v,D,!0))},d=new s(l=>{if(f.length){let y=f.join(","),x=new Set,v=new Set;for(let{addedNodes:D,removedNodes:S}of l)c(S,y,x,v,!1,!1),c(D,y,x,v,!0,!1)}}),{observe:h}=d;return(d.observe=l=>h.call(d,l,{subtree:!0,childList:!0}))(u),d})(n,p,xt,r),{attachShadow:a}=et.prototype;return a&&(et.prototype.attachShadow=function(i){let u=a.call(this,i);return m.observe(u),u}),r.length&&o(p[rt](r)),{drop:i=>{for(let u=0,{length:s}=i;u<s;u++)e.delete(i[u])},flush:()=>{let i=m.takeRecords();for(let u=0,{length:s}=i;u<s;u++)o(ot.call(i[u].removedNodes,nt),!1),o(ot.call(i[u].addedNodes,nt),!0)},observer:m,parse:o}};function b(t,e){let n=t.get(e);n&&typeof n=="function"&&n(e)}var j=new WeakMap,L;J()&&(L=new IntersectionObserver((t,e)=>{let n=t.filter(o=>o.isIntersecting);for(let o of n){let r=o.target;e.unobserve(r),b(j,r)}}));function H(t,e){return L?(j.set(t,e),L.observe(t),()=>(j.delete(t),L.unobserve(t))):(e(t),()=>{})}var V={},q=[],st=new WeakMap,{drop:Gt,flush:Kt,observer:Xt,parse:vt}=it({query:q,document,handle(t,e,n){if(e){let o=()=>{V[n][0](t)};O(t,"lazy")?st.set(t,H(t,o)):o()}else{let o=V[n][1];o&&o(t),b(st,t)}}}),$=(t,e,n=null)=>{V[t]=[e,n],q.includes(t)||(q.push(t),vt(z(t)))};function at(t){if(!t.dataset.render)return;let e=M(A(t,"datetimeConfig")),n=w(t,"datetime"),o=A(t,"style"),r=A(t,"format"),p=O(t,"relative"),m=w(t,"lang")||C(),a=e;E(n)&&!a.timeStyle&&(a.timeStyle=o||"short"),R(n)&&!a.dateStyle&&(a.dateStyle=o||"short");let i=!1,u=!1;for(let c in t.dataset)["style","format","relative","render"].includes(c)||(["year","month","day"].includes(c)&&(i=!0),["hour","minute","second"].includes(c)&&(u=!0),a[c]=T(t,c));i&&a.dateStyle&&(a.dateStyle=void 0),u&&a.timeStyle&&(a.timeStyle=void 0);let s="",f=N(n);switch(r){case"iso":s=f.toISOString();break;case"utc":s=f.toUTCString();break;case"datetime":s=I(f);break;case"date":s=K(f);break;case"time":s=X(f);break;default:if(p){let c=G(),d=(f.getTime()-Date.now())/1e3;for(let h in c)if(c[h]<Math.abs(d)){let l=d/c[h];if(Y())s=new Intl.RelativeTimeFormat(m).format(Math.round(l),h);else{let y=Math.abs(Math.floor(l)),x=y===1?h.replace(/s$/,""):h;s=`${y} ${x}`}break}}else try{let c=Date.parse(B(W(n)));s=new Intl.DateTimeFormat(m,a).format(c)}catch(c){t.dataset.error=c}break}s.length>0&&(t.innerText=s)}var ut=new WeakMap;$("time[datetime]",t=>{w(t,"datetime")&&!t.innerText.trim()&&(t.dataset.render="true"),at(t),ut.set(t,k(t,["datetime"],(n,o)=>{at(n)}))},t=>{b(ut,t)});function ct(t){let e=M(A(t,"numberConfig")),n=w(t,"data-number");U(t,e,["currency","unit"]);let o=w(t,"lang")||C(),r=new Intl.NumberFormat().resolvedOptions();e.currency&&(r.currency=e.currency,r.style="currency"),e.unit&&(r.unit=e.unit,r.style="unit");for(let[a,i]of Object.entries(e))r[a]=i;for(let a in t.dataset)["value","currency","unit"].includes(a)||(r[a]=T(t,a));let p=new Intl.NumberFormat(o,r),m=Number(n);t.innerText=Number.isNaN(m)?"":p.format(m)}var ft=new WeakMap;$("span[data-number]",t=>{ct(t),ft.set(t,k(t,["data-number"],(e,n)=>{ct(e)}))},t=>{b(ft,t)});
/*! (c) Andrea Giammarchi - ISC */
/**
 * Modern now - formatters build
 * https://github.com/lekoala/modern-now
 * @license MIT
 */
